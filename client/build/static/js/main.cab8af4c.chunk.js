(this["webpackJsonptast-app"]=this["webpackJsonptast-app"]||[]).push([[0],{28:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),r=a(11),i=a.n(r),l=(a(28),a(6)),o=a(4),d=a(3),j=a.n(d),u=a(7),b=function(e){return{type:"SET_CURRENT",payload:e}},h=a(5),p=a.n(h),O=Object(o.b)((function(e){return{techs:e.tech.techs}}),{addTask:function(e){return function(){var t=Object(u.a)(j.a.mark((function t(a){var c,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SET_LOADING"}),t.next=4,fetch("/api/v1/logs",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:return c=t.sent,t.next=7,c.json();case 7:n=t.sent,a({type:"ADD_TASK",payload:n.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"GET_ERRORS",payload:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addTask,a=e.techs,s=Object(n.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(n.useState)(""),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(!1),O=Object(l.a)(h,2),m=O[0],f=O[1];return Object(c.jsx)("div",{id:"modal1",className:"modal",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===i||""===u?p.a.toast({html:"\u041f\u0435\u0440\u0432\u044b\u0435 \u0434\u0432\u0430 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b!"}):(t({message:i,tech:u,attention:m}),o(""),b(""),f(!1),p.a.toast({html:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"}))},children:[Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("h4",{className:"center-align",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}),Object(c.jsxs)("div",{className:"input-field col s6",children:[Object(c.jsx)("input",{id:"log",type:"text",value:i,className:"validate",onChange:function(e){return o(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"log",children:"\u0412\u043d\u0435\u0441\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443"})]}),Object(c.jsxs)("select",{className:"browser-default",name:"tech",value:u,onChange:function(e){return b(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),null!==a&&a.map((function(e){return Object(c.jsxs)("option",{children:[e.firstName," ",e.lastName]},e._id)}))]}),Object(c.jsx)("p",{children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:m,onChange:function(e){return f(!m)}}),Object(c.jsx)("span",{children:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"})]})})]}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("input",{type:"submit",className:"modal-close btn btn-flat green white-text",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})})})),m=Object(o.b)((function(e){return{current:e.task.current,techs:e.tech.techs}}),{updateTask:function(e){return function(){var t=Object(u.a)(j.a.mark((function t(a){var c,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SET_LOADING"}),t.next=4,fetch("/api/v1/logs/".concat(e._id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:return c=t.sent,t.next=7,c.json();case 7:n=t.sent,a({type:"UPDATE_TASK",payload:n.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"GET_ERRORS",payload:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},setCurrent:b})((function(e){var t=e.current,a=e.updateTask,s=e.techs,r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],d=i[1],j=Object(n.useState)(""),u=Object(l.a)(j,2),b=u[0],h=u[1],O=Object(n.useState)(!1),m=Object(l.a)(O,2),f=m[0],x=m[1];Object(n.useEffect)((function(){t&&(d(t.message),h(t.tech),x(t.attention))}),[t]);return Object(c.jsx)("div",{id:"editModal",className:"modal",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===o||""===b?p.a.toast({html:"\u041f\u0435\u0440\u0432\u044b\u0435 \u0434\u0432\u0430 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437!"}):(a({message:o,tech:b,attention:f,_id:t._id}),d(""),h(""),x(!1),p.a.toast({html:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430!"}))},children:[Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("h4",{className:"center-align",children:"\u0412\u043d\u0435\u0441\u0442\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"}),Object(c.jsx)("div",{className:"input-field col s6",children:Object(c.jsx)("input",{id:"log",type:"text",value:o,className:"validate",onChange:function(e){return d(e.target.value)}})}),Object(c.jsxs)("select",{value:b,onChange:function(e){return h(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),null!==s&&s.map((function(e){return Object(c.jsxs)("option",{children:[e.firstName," ",e.lastName]},e._id)}))]}),Object(c.jsx)("p",{children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:f,onChange:function(e){return x(!f)}}),Object(c.jsx)("span",{children:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"})]})})]}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("input",{type:"submit",className:"modal-close btn btn-flat green white-text",value:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})})]})})})),f=Object(o.b)((function(e){return{techs:e.tech.techs}}),{getTechs:function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/techs");case 3:if((a=e.sent).ok){e.next=6;break}throw Error("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b");case 6:return e.next=8,a.json();case 8:c=e.sent,t({type:"GET_TECHS",payload:c.data}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"GET_TECHS_ERROR",payload:e.t0.message}),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},deleteTech:function(e){return function(){var t=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1/techs/".concat(e),{method:"DELETE"});case 3:a({type:"DELETE_TECH",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"GET_TECHS_ERROR",payload:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getTechs,a=e.deleteTech,s=e.techs;return Object(n.useEffect)((function(){t()}),[t]),Object(c.jsx)("div",{id:"techModal",className:"modal",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("h4",{className:"center",children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u041e\u0442\u0434\u0435\u043b\u0430"}),Object(c.jsx)("ul",{className:"collection",children:s&&s.map((function(e){return Object(c.jsxs)("li",{className:"collection-item",children:[e.firstName," ",e.lastName,Object(c.jsx)("a",{href:"#!",className:"secondary-content",onClick:function(){return a(e._id)},children:Object(c.jsx)("i",{className:"material-icons",children:"delete"})})]},e._id)}))})]})})})),x=(a(10),Object(o.b)(null,{addTech:function(e){return function(){var t=Object(u.a)(j.a.mark((function t(a){var c,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1/techs",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:return c=t.sent,t.next=6,c.json();case 6:n=t.sent,a({type:"ADD_TECH",payload:n.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"GET_TECHS_ERROR",payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addTech,a=Object(n.useState)(""),s=Object(l.a)(a,2),r=s[0],i=s[1],o=Object(n.useState)(""),d=Object(l.a)(o,2),j=d[0],u=d[1];return Object(c.jsx)("div",{id:"addTechModal",className:"modal",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===r||""===j?p.a.toast({html:"\u041f\u0435\u0440\u0432\u044b\u0435 \u0434\u0432\u0430 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b!"}):(t({firstName:r,lastName:j}),i(""),u(""),p.a.toast({html:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!"}))},children:[Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{id:"first_name",value:r,onChange:function(e){return i(e.target.value.trim())},type:"text"}),Object(c.jsx)("label",{htmlFor:"first_name",children:"\u0418\u043c\u044f"})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{id:"last_name",value:j,onChange:function(e){return u(e.target.value.trim())},type:"text"}),Object(c.jsx)("label",{htmlFor:"last_name",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})]})]}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("input",{type:"submit",className:"modal-close btn btn-flat green white-text",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"})})]})})}))),v=function(){return Object(n.useEffect)((function(){p.a.AutoInit()})),Object(c.jsxs)("div",{className:"fixed-action-btn",children:[Object(c.jsx)("a",{href:"#modal1",className:"btn-floating btn-large red modal-trigger",children:Object(c.jsx)("i",{className:"large material-icons",children:"add"})}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"#techModal",className:"btn-floating blue modal-trigger",children:Object(c.jsx)("i",{className:"material-icons",children:"person"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"#addTechModal",className:"btn-floating green modal-trigger",children:Object(c.jsx)("i",{className:"material-icons",children:"person_add"})})})]})]})},g=a(20),y=a.n(g),N=Object(o.b)(null,{deleteTask:function(e){return function(){var t=Object(u.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SET_LOADING"}),t.next=4,fetch("/api/v1/logs/".concat(e),{method:"DELETE"});case 4:a({type:"DELETE_TASK",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"GET_ERRORS",payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setCurrent:b})((function(e){var t=e.task,a=e.deleteTask,n=e.setCurrent;return Object(c.jsx)("li",{className:"collection-item",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("a",{href:"#editModal",onClick:function(){return n(t)},className:"modal-trigger ".concat(t.attention?"red-text":""),children:t.message}),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{children:[" #",Object(c.jsxs)("span",{className:"grey-text",children:["\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0434\u0435\u043b\u0430\u043d\u043e"," "]}),t.tech,",",Object(c.jsxs)("span",{className:"grey-text",children:[" "," "," ",Object(c.jsx)(y.a,{format:"MMMM Do YYYY, h:mm a",children:log.date})]})]}),Object(c.jsx)("a",{href:"#!",className:"secondary-content",onClick:function(){a(t._id),p.a.toast({html:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430!"})},children:Object(c.jsx)("i",{className:"material-icons",children:"delete"})})]})})})),T=function(){return Object(c.jsx)("div",{className:"preloader-wrapper big active",style:{textAlign:"center",margin:"60px auto",display:"block"},children:Object(c.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(c.jsx)("div",{className:"circle-clipper left",children:Object(c.jsx)("div",{className:"circle"})}),Object(c.jsx)("div",{className:"gap-patch",children:Object(c.jsx)("div",{className:"circle"})}),Object(c.jsx)("div",{className:"circle-clipper right",children:Object(c.jsx)("div",{className:"circle"})})]})})},E=Object(o.b)((function(e){return{tasks:e.task.tasks,loading:e.task.loading}}),{getTasks:function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"SET_LOADING"}),e.next=4,fetch("/api/v1/logs");case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,t({type:"GET_TASKS",payload:c.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"GET_ERRORS",payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.tasks,a=e.getTasks,s=e.loading;return Object(n.useEffect)((function(){a()}),[]),Object(c.jsx)("div",{children:Object(c.jsxs)("ul",{className:"collection with-header",children:[Object(c.jsx)("li",{className:"collection-header center-align",children:Object(c.jsx)("h4",{children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})}),s&&Object(c.jsx)(T,{}),!s&&t.length?t.map((function(e){return Object(c.jsx)(N,{task:e},e._id)})):Object(c.jsx)("p",{style:{textAlign:"center"},children:"\u041d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447..."})]})})})),k=function(){return Object(c.jsx)("nav",{children:Object(c.jsx)("div",{className:"nav-wrapper indigo",children:Object(c.jsx)("div",{className:"brand-logo",style:{width:"100%",textAlign:"center"},children:"Task App"})})})},_=a(8),S=a(21),C=a(22),R=a(13),w=a(2),D={tasks:[],loading:!1,current:null,err:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TASKS":return Object(w.a)(Object(w.a)({},e),{},{tasks:t.payload,loading:!1});case"ADD_TASK":return Object(w.a)(Object(w.a)({},e),{},{tasks:[].concat(Object(R.a)(e.tasks),[t.payload]),loading:!1});case"DELETE_TASK":return Object(w.a)(Object(w.a)({},e),{},{tasks:e.tasks.filter((function(e){return e._id!==t.payload})),loading:!1});case"UPDATE_TASK":return Object(w.a)(Object(w.a)({},e),{},{tasks:e.tasks.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case"SET_LOADING":return Object(w.a)(Object(w.a)({},e),{},{loading:!0});case"SET_CURRENT":return Object(w.a)(Object(w.a)({},e),{},{current:t.payload});default:return e}},G={techs:[],err:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TECHS":return Object(w.a)(Object(w.a)({},e),{},{techs:t.payload});case"ADD_TECH":return Object(w.a)(Object(w.a)({},e),{},{techs:[].concat(Object(R.a)(e.techs),[t.payload])});case"DELETE_TECH":return Object(w.a)(Object(w.a)({},e),{},{techs:e.techs.filter((function(e){return e._id!==t.payload}))});case"GET_TECHS_ERROR":return Object(w.a)(Object(w.a)({},e),{},{err:t.payload});default:return e}},M=Object(_.combineReducers)({task:A,tech:L}),H=[C.a],I=Object(_.createStore)(M,{},Object(S.composeWithDevTools)(_.applyMiddleware.apply(void 0,H)));var K=function(){return Object(c.jsx)(o.a,{store:I,children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(k,{}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(E,{}),Object(c.jsx)(v,{}),Object(c.jsx)(O,{}),Object(c.jsx)(m,{}),Object(c.jsx)(f,{}),Object(c.jsx)(x,{})]})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,38)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(K,{})}),document.getElementById("root")),F()}},[[37,1,2]]]);
//# sourceMappingURL=main.cab8af4c.chunk.js.map