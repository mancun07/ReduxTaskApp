(this.webpackJsonpITLogger=this.webpackJsonpITLogger||[]).push([[0],{28:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(11),l=n.n(s),i=(n(28),n(6)),o=n(4),u=n(3),d=n.n(u),j=n(7),h=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_LOADING"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return{type:"SET_CURRENT",payload:e}},p=n(5),O=n.n(p),f=Object(o.b)((function(e){return{techs:e.tech.techs}}),{addLog:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,fetch("/api/v1/logs",{method:"POST",body:JSON.stringify(e),headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json;odata.metadata=full","Content-Type":"application/json"}});case 4:return c=t.sent,t.next=7,c.json();case 7:a=t.sent,n({type:"ADD_LOG",payload:a.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addLog,n=e.techs,r=Object(a.useState)(""),s=Object(i.a)(r,2),l=s[0],o=s[1],u=Object(a.useState)(""),d=Object(i.a)(u,2),j=d[0],h=d[1],b=Object(a.useState)(!1),p=Object(i.a)(b,2),f=p[0],m=p[1];console.log(n);return Object(c.jsx)("div",{id:"modal1",className:"modal",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===l||""===j?O.a.toast({html:"\u041f\u0435\u0440\u0432\u044b\u0435 \u0434\u0432\u0430 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b!"}):(t({message:l,tech:j,attention:f}),o(""),h(""),m(!1),O.a.toast({html:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"}))},children:[Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("h4",{className:"center-align",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}),Object(c.jsxs)("div",{className:"input-field col s6",children:[Object(c.jsx)("input",{id:"log",type:"text",value:l,className:"validate",onChange:function(e){return o(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"log",children:"\u0412\u043d\u0435\u0441\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443"})]}),Object(c.jsxs)("select",{className:"browser-default",name:"tech",value:j,onChange:function(e){return h(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),null!==n&&n.map((function(e){return Object(c.jsxs)("option",{children:[e.firstName," ",e.lastName]},e._id)}))]}),Object(c.jsx)("p",{children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:f,onChange:function(e){return m(!f)}}),Object(c.jsx)("span",{children:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"})]})})]}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("input",{type:"submit",className:"modal-close btn btn-flat green white-text",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})})})),m=Object(o.b)((function(e){return{current:e.log.current,techs:e.tech.techs}}),{updateLog:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,fetch("/api/v1/logs/".concat(e._id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:return c=t.sent,t.next=7,c.json();case 7:a=t.sent,n({type:"UPDATE_LOG",payload:a.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},setCurrent:b})((function(e){var t=e.current,n=e.updateLog,r=(e.setCurrent,e.techs),s=Object(a.useState)(""),l=Object(i.a)(s,2),o=l[0],u=l[1],d=Object(a.useState)(""),j=Object(i.a)(d,2),h=j[0],b=j[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),m=f[0],x=f[1];Object(a.useEffect)((function(){t&&(u(t.message),b(t.tech),x(t.attention))}),[t]);return Object(c.jsx)("div",{id:"editModal",className:"modal",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===o||""===h?O.a.toast({html:"\u041f\u0435\u0440\u0432\u044b\u0435 \u0434\u0432\u0430 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437!"}):(n({message:o,tech:h,attention:m,_id:t._id}),u(""),b(""),x(!1),O.a.toast({html:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430!"}))},children:[Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("h4",{className:"center-align",children:"\u0412\u043d\u0435\u0441\u0442\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"}),Object(c.jsx)("div",{className:"input-field col s6",children:Object(c.jsx)("input",{id:"log",type:"text",value:o,className:"validate",onChange:function(e){return u(e.target.value)}})}),Object(c.jsxs)("select",{value:h,onChange:function(e){return b(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"}),null!==r&&r.map((function(e){return Object(c.jsxs)("option",{children:[e.firstName," ",e.lastName]},e._id)}))]}),Object(c.jsx)("p",{children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:m,onChange:function(e){return x(!m)}}),Object(c.jsx)("span",{children:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"})]})})]}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("input",{type:"submit",className:"modal-close btn btn-flat green white-text",value:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})})]})})})),x=Object(o.b)((function(e){return{techs:e.tech.techs}}),{getTechs:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/techs");case 3:if((n=e.sent).ok){e.next=6;break}throw Error("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b");case 6:return e.next=8,n.json();case 8:c=e.sent,t({type:"GET_TECHS",payload:c.data}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"GET_TECHS_ERROR",payload:e.t0.message}),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},deleteTech:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1/techs/".concat(e),{method:"DELETE"});case 3:n({type:"DELETE_TECH",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n({type:"GET_TECHS_ERROR",payload:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getTechs,n=e.deleteTech,r=e.techs;return Object(a.useEffect)((function(){t()}),[t]),Object(c.jsx)("div",{id:"techModal",className:"modal",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("h4",{className:"center",children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u041e\u0442\u0434\u0435\u043b\u0430"}),Object(c.jsx)("ul",{className:"collection",children:r&&r.map((function(e){return Object(c.jsxs)("li",{className:"collection-item",children:[e.firstName," ",e.lastName,Object(c.jsx)("a",{href:"#!",className:"secondary-content",onClick:function(){return n(e._id)},children:Object(c.jsx)("i",{className:"material-icons",children:"delete"})})]},e._id)}))})]})})})),g=(n(10),Object(o.b)(null,{addTech:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1/techs",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,n({type:"ADD_TECH",payload:a.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"GET_TECHS_ERROR",payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addTech,n=Object(a.useState)(""),r=Object(i.a)(n,2),s=r[0],l=r[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),d=u[0],j=u[1];return Object(c.jsx)("div",{id:"addTechModal",className:"modal",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===s||""===d?O.a.toast({html:"\u041f\u0435\u0440\u0432\u044b\u0435 \u0434\u0432\u0430 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b!"}):(t({firstName:s,lastName:d}),l(""),j(""),O.a.toast({html:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!"}))},children:[Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{id:"first_name",value:s,onChange:function(e){return l(e.target.value.trim())},type:"text"}),Object(c.jsx)("label",{htmlFor:"first_name",children:"\u0418\u043c\u044f"})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{id:"last_name",value:d,onChange:function(e){return j(e.target.value.trim())},type:"text"}),Object(c.jsx)("label",{htmlFor:"last_name",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})]})]}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("input",{type:"submit",className:"modal-close btn btn-flat green white-text",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"})})]})})}))),v=function(){return Object(a.useEffect)((function(){O.a.AutoInit()})),Object(c.jsxs)("div",{className:"fixed-action-btn",children:[Object(c.jsx)("a",{href:"#modal1",className:"btn-floating btn-large red modal-trigger",children:Object(c.jsx)("i",{className:"large material-icons",children:"add"})}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"#techModal",className:"btn-floating blue modal-trigger",children:Object(c.jsx)("i",{className:"material-icons",children:"person"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"#addTechModal",className:"btn-floating green modal-trigger",children:Object(c.jsx)("i",{className:"material-icons",children:"person_add"})})})]})]})},y=n(20),N=n.n(y),E=Object(o.b)(null,{deleteLog:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,fetch("/api/v1/logs/".concat(e),{method:"DELETE"});case 4:n({type:"DELETE_LOG",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setCurrent:b})((function(e){var t=e.log,n=e.deleteLog,a=e.setCurrent;return Object(c.jsx)("li",{className:"collection-item",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("a",{href:"#editModal",onClick:function(){return a(t)},className:"modal-trigger ".concat(t.attention?"red-text":""),children:t.message}),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{children:["#",t.id," ",Object(c.jsxs)("span",{className:"grey-text",children:["\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0434\u0435\u043b\u0430\u043d\u043e"," "]}),t.tech,",",Object(c.jsxs)("span",{className:"grey-text",children:[" "," "," ",Object(c.jsx)(N.a,{format:"MMMM Do YYYY, h:mm a",children:t.date})]})]}),Object(c.jsx)("a",{href:"#!",className:"secondary-content",onClick:function(){n(t._id),O.a.toast({html:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430!"})},children:Object(c.jsx)("i",{className:"material-icons",children:"delete"})})]})})})),T=function(){return Object(c.jsx)("div",{className:"preloader-wrapper big active",children:Object(c.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(c.jsx)("div",{className:"circle-clipper left",children:Object(c.jsx)("div",{className:"circle"})}),Object(c.jsx)("div",{className:"gap-patch",children:Object(c.jsx)("div",{className:"circle"})}),Object(c.jsx)("div",{className:"circle-clipper right",children:Object(c.jsx)("div",{className:"circle"})})]})})},_=Object(o.b)((function(e){return{logs:e.log.logs,loading:e.log.loading}}),{getLogs:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(),e.next=4,fetch("/api/v1/logs");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,console.log(c),t({type:"GET_LOGS",payload:c.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"GET_ERRORS",payload:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},setLoading:h})((function(e){var t=e.logs,n=e.getLogs,r=e.loading;return Object(a.useEffect)((function(){n()}),[]),r||null===t?Object(c.jsx)(T,{}):Object(c.jsx)("div",{children:Object(c.jsxs)("ul",{className:"collection with-header",children:[Object(c.jsx)("li",{className:"collection-header center-align",children:Object(c.jsx)("h4",{children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})}),r||0!==t.length?t.length>0&&t.map((function(e){return Object(c.jsx)(E,{log:e},e._id)})):Object(c.jsx)("p",{children:"\u041d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0435\u0442 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447..."})]})})})),S=Object(o.b)(null,{searchLogs:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,fetch("/api/v1/logs?q=".concat(e));case 4:return c=t.sent,t.next=7,c.json();case 7:a=t.sent,n({type:"SEARCH_LOGS",payload:a.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.searchLogs;return Object(c.jsx)("nav",{children:Object(c.jsx)("div",{className:"nav-wrapper indigo",children:Object(c.jsx)("form",{children:Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("input",{id:"search",type:"search",onChange:function(e){return t(e.target.value.trim())},placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0430\u043c & \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c"}),Object(c.jsx)("label",{className:"label-icon",htmlFor:"search",children:Object(c.jsx)("i",{className:"material-icons",children:"search"})}),Object(c.jsx)("i",{className:"material-icons",children:"close"})]})})})})})),C=n(8),R=n(21),L=n(22),w=n(13),k=n(2),G={logs:[],loading:!1,current:null,err:null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LOGS":case"SEARCH_LOGS":return Object(k.a)(Object(k.a)({},e),{},{logs:t.payload,loading:!1});case"ADD_LOG":return Object(k.a)(Object(k.a)({},e),{},{logs:[].concat(Object(w.a)(e.logs),[t.payload]),loading:!1});case"DELETE_LOG":return Object(k.a)(Object(k.a)({},e),{},{logs:e.logs.filter((function(e){return e._id!==t.payload})),loading:!1});case"UPDATE_LOG":return Object(k.a)(Object(k.a)({},e),{},{logs:e.logs.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case"SET_LOADING":return Object(k.a)(Object(k.a)({},e),{},{loading:!0});case"SET_CURRENT":return Object(k.a)(Object(k.a)({},e),{},{current:t.payload});default:return e}},A={techs:[],loading:!1,current:null,err:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TECHS":return Object(k.a)(Object(k.a)({},e),{},{techs:t.payload});case"ADD_TECH":return Object(k.a)(Object(k.a)({},e),{},{techs:[].concat(Object(w.a)(e.techs),[t.payload])});case"DELETE_TECH":return Object(k.a)(Object(k.a)({},e),{},{techs:e.techs.filter((function(e){return e._id!==t.payload}))});case"GET_TECHS_ERROR":return Object(k.a)(Object(k.a)({},e),{},{err:t.payload});default:return e}},M=Object(C.combineReducers)({log:D,tech:H}),F=[L.a],I=Object(C.createStore)(M,{},Object(R.composeWithDevTools)(C.applyMiddleware.apply(void 0,F)));var P=function(){return Object(c.jsx)(o.a,{store:I,children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(S,{}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(_,{}),Object(c.jsx)(v,{}),Object(c.jsx)(f,{}),Object(c.jsx)(m,{}),Object(c.jsx)(x,{}),Object(c.jsx)(g,{})]})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(P,{})}),document.getElementById("root")),J()}},[[37,1,2]]]);
//# sourceMappingURL=main.5a284800.chunk.js.map